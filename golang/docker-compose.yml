version: "3.9"

services:
  bot:
    build: .
    image: study-bot:latest
    container_name: study-bot
    restart: unless-stopped
    env_file: .env
    environment:
      OPENAI_API_KEY: ${OPENAI_API_KEY}
      S3_ENDPOINT: ${S3_ENDPOINT}
      S3_BUCKET: ${S3_BUCKET}
      S3_ACCESS_KEY_ID: ${S3_ACCESS_KEY_ID}
      S3_SECRET_ACCESS_KEY: ${S3_SECRET_ACCESS_KEY}
      TELEGRAM_BOT_TOKEN: ${TELEGRAM_BOT_TOKEN}
    volumes:
      - ./files:/files
    network_mode: "host"
